<div class="wrapper">
  <header>
    <div class="cabecera">
      <div class="flex-row">
        <div class="flex-item">
          <div class="inicio">
            <img class="logo" src="assets/logo-universite.svg">
            <span class="tooltip">Ir al escritorio</span>
          </div>
          <button class="btn-white desktop" *ngIf="!buscadorBoxVisible"(click)="gestionBuscador('desktop')">
            <i class="fa fa-th"></i><span class="tooltip">Aplicaciones</span>
          </button>
          <button class="btn-white desktop" *ngIf="!buscadorBoxVisible" (click)="gestionBuscador('all')">
            <i class="fa fa-search"></i><span class="tooltip">Buscar aplicaciones...</span>
          </button>
        </div>
        <div class="flex-item flex-end">
          <div class="usuario">
            <img class="foto desktop" src="{{foto}}" />
            <span class="tooltip"><span *ngIf="configuracion">{{configuracion.NombrePersona}}</span></span>
          </div>
          <button class="btn-black mobile" (click)="gestionBuscador('desktop')">
            <i class="fa fa-th"></i>
            <span class="tooltip">Aplicaciones</span>
          </button>
          <button class="btn-black">
            <i class="fa fa-bell"></i>
            <span class="tooltip">Notificaciones</span>
          </button>
          <button class="btn-black desktop">
            <i class="fa fa-power-off color-red"></i>
            <span class="tooltip-corner">Cerrar sesión</span>
          </button>
          <button class="btn-black mobile" (click)="gestionMenu()">
            <i class="fa fa-bars"></i>
            <span class="tooltip-corner">Menú</span>
          </button>
        </div>
      </div>
    </div>
    <div class="menu" [ngClass]="menuBoxVisible ? 'open' : 'close'">
      <div class="flex-column" *ngIf="menuTextVisible">
        <div class="flex-item"><button class="btn-black"><i class="fa fa-user"></i><span *ngIf="configuracion">{{configuracion.NombrePersona}}</span></button></div>
        <div class="flex-item"><button class="btn-black"><i class="fa fa-cog"></i><span>Configuración</span></button></div>
        <div class="flex-item"><button class="btn-black"><i class="fa fa-power-off color-red"></i><span>Cerrar sesión</span></button></div>
      </div>
    </div>
    <div class="overlay" *ngIf="buscadorBoxVisible" (click)="gestionBuscador()"></div>
    <div class="buscador" [ngClass]="buscadorBoxVisible ? 'open' : 'close'">
      <div class="flex-column" *ngIf="buscadorTextVisible">
        <div class="flex-item bkgd-black">
          <div class="inicio">
            <img class="logo" src="assets/logo-universite.svg">
            <span class="tooltip">Ir al escritorio</span>
          </div>
          <div class="btn-position">
            <button class="btn-grey" (click)="gestionBuscador()">
              <i class="fa fa-times" (click)="gestionBuscador()"></i>
              <span class="tooltip">Cerrar</span>
            </button>
          </div>
        </div>
        <div class="flex-item">
          <input type="text" class="buscar" placeholder="Buscar en todas mis aplicaciones" (click)="gestionSidenav('all')" (keyup)="buscar($event)">
        </div>
        <div class="flex-item">
          <div class="option">
            <span [ngClass]="optionActiva == 'desktop' ? 'options-active' : 'options'" (click)="gestionSidenav('desktop')">ESCRITORIO ({{totalEscritorio}})</span>
            <span class="tooltip">Escritorio</span>
          </div>
          <div class="option">
            <span [ngClass]="optionActiva == 'all' ? 'options-active' : 'options'" (click)="gestionSidenav('all')">TODAS</span>
            <span class="tooltip">Todas</span>
          </div>
        </div>
        <div class="flex-item" *ngIf="optionActiva == 'desktop'">
          <div class="scrollable">
            <div class="flex-row">
              <div class="flex-item" *ngFor="let item of escritorio.AplicacionesEscritorio">
                <div class="box">
                  <div class="appbox" [ngStyle]="{'background-color': item.Categoria.Color}">
                    <i class="icono {{item.Icono}}"></i>
                    <span>{{item.Titulo}}</span>
                    <span class="tooltip">{{item.Descripcion}}</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="flex-item" *ngIf="optionActiva == 'all'">
          <div class="scrollable">
            <div class="flex-column">
               <div class="flex-item" *ngFor="let item of aplicaciones">
                  <div class="categoria">
                    <div class="titulo">
                      <div class="color" [ngStyle]="{'background-color': item.Color}"></div>
                      {{item.Categoria.toUpperCase()}}
                      <div class="ver">Ver categoría <span class="tooltip">Ver categoría</span></div>
                    </div>
                    <div class="aplicacion" *ngFor="let app of item.Aplicaciones">
                      <i class="icono {{app.Icono}}"></i>
                      <span class="titulo">{{app.Titulo}}
                        <span class="tooltip">{{app.Descripcion}}</span>
                      </span>                                  
                    </div>
                  </div>
              </div>
            </div> 
          </div>
        </div>
      </div>
    </div>
  </header>
  <main>
    <router-outlet></router-outlet>
  </main>
  <footer>
    <div class="flex-row">
      <div class="flex-item-1">
        <img src="assets/candado.svg" />
        <img src="assets/logo-footer-universite.svg" />
      </div>
      <div class="flex-item-2" style="text-align: center;">
        <div class="flex-row" style="text-align: center;">
          <div class="flex-item">
            <a href="#">Aviso legal<span class="tooltip">Aviso legal</span></a><span> |</span>
          </div>
          <div class="flex-item">
            <a href="#">Teléfonos de emergencia<span class="tooltip">Teléfonos de emergencia</span></a><span> |</span>
          </div>
          <div class="flex-item">
            <a href="#">Soporte<span class="tooltip">Soporte</span></a><span> |</span>
          </div>
          <div class="flex-item">
            <a href="#">Mapa de asplicaciones<span class="tooltip">Mapa de aplicaciones</span></a>
          </div>
        </div>
        <a href="#">Universidad Miguel Hernández<span class="tooltip">Universidad Miguel Hernández</span></a>
      </div>
      <div class="flex-item-3">
        <div class="flex-row">
          <div class="flex-item">
            <a target="_blank" href="http://twitter.com/UniversidadMH" aria-label="Twitter" class="btn-twitter">
              <span class="tooltip">Twitter</span><i class="fa fa-twitter fa-lg"></i>
            </a>
          </div>
          <div class="flex-item">
            <a target="_blank" href="https://www.facebook.com/UniversidadMiguelHernandezElche" aria-label="Facebook" class="btn-facebook">
              <span class="tooltip">Facebook</span><i class="fa fa-facebook fa-lg"></i>
            </a>
          </div>
          <div class="flex-item">
            <a target="_blank" href="http://youtube.umh.es/" aria-label="Youtube" class="btn-youtube">
              <span class="tooltip">Youtube</span><i class="fa fa-youtube fa-lg"></i>
            </a>
          </div>
          <div class="flex-item">
            <a target="_blank" href="http://es.linkedin.com/edu/universidad-miguel-hern%C3%A1ndez-de-elche-12237" aria-label="Linkedin" class="btn-linkedin">
              <span class="tooltip">LinkedIn</span><i class="fa fa-linkedin fa-lg"></i>
            </a>
          </div>
          <div class="flex-item">
            <a target="_blank" href="http://instagram.com/universidadmh#" aria-label="Instagram" class="btn-instagram">
              <span class="tooltip">Instagram</span><i class="fa fa-instagram fa-lg"></i>
            </a>
          </div>
          <div class="flex-item">
            <a target="_blank" href="http://es.pinterest.com/universidadmh/" aria-label="Pinterest" class="btn-pinterest">
              <span class="tooltip">Pinterest</span><i class="fa fa-pinterest  fa-lg"></i>
            </a>
          </div>
          <div class="flex-item">
            <a target="_blank" href="https://play.google.com/store/apps/details?id=com.umh.umh" aria-label="Android" class="btn-android">
              <span class="tooltip">Android</span><i class="fa fa-android fa-lg"></i>
            </a>
          </div>
          <div class="flex-item">
            <a target="_blank" href="https://itunes.apple.com/es/app/umhapp/id807439885?mt=8" aria-label="Apple" class="btn-apple">
              <span class="tooltip">Apple</span><i class="fa fa-apple fa-lg"></i>
            </a>
          </div>
        </div>
      </div>
    </div>
  </footer>
</div>